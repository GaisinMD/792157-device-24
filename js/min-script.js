var link=document.querySelector(".contacts-button"),popup=document.querySelector(".overlay-modal-feedback"),close=document.querySelector(".feedback-modal-close"),byname=popup.querySelector(".feedback-item-name"),userMail=popup.querySelector(".feedback-item-mail"),message=popup.querySelector(".feedback-item-text"),form=popup.querySelector(".feedback-form"),sectionForm=popup.querySelector(".modal-feedback-form"),mapLink=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".overlay-modal-map"),mapClose=document.querySelector(".map-modal-close");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("overlay-modal-feedback-show"),byname.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("overlay-modal-feedback-show"),sectionForm.classList.remove("modal-feedback-form-error"),byname.classList.remove("feedback-item-invalid"),userMail.classList.remove("feedback-item-invalid"),message.classList.remove("feedback-item-invalid")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("overlay-modal-feedback-show")&&(popup.classList.remove("overlay-modal-feedback-show"),sectionForm.classList.remove("modal-feedback-form-error"),byname.classList.remove("feedback-item-invalid"),userMail.classList.remove("feedback-item-invalid"),message.classList.remove("feedback-item-invalid"))),byname.value&&byname.classList.contains("feedback-item-invalid")&&byname.classList.remove("feedback-item-invalid"),userMail.value&&userMail.classList.contains("feedback-item-invalid")&&userMail.classList.remove("feedback-item-invalid"),message.value&&message.classList.contains("feedback-item-invalid")&&message.classList.remove("feedback-item-invalid")}),form.addEventListener("submit",function(e){byname.value&&userMail.value&&message.value||(e.preventDefault(),sectionForm.classList.remove("modal-feedback-form-error"),sectionForm.offsetWidth=sectionForm.offsetWidth,sectionForm.classList.add("modal-feedback-form-error"),byname.value||byname.classList.add("feedback-item-invalid"),userMail.value||userMail.classList.add("feedback-item-invalid"),message.value||message.classList.add("feedback-item-invalid"))}),mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("overlay-modal-map-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("overlay-modal-map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("overlay-modal-map-show")&&mapPopup.classList.remove("overlay-modal-map-show"))});